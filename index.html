<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portafolio Digital de Nefi Arroyo</title>
    
    <!-- React and Babel scripts -->
    <script src="https://unpkg.com/react@17/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Mono:wght@700&display=swap" rel="stylesheet">

    <style>
        /* --- Basic Reset and Global Styles --- */
        :root {
            --transition-speed: 0.4s;
        }

        body {
            margin: 0;
            font-family: 'Inter', sans-serif;
            transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
        }
        * {
            box-sizing: border-box;
        }

        /* =================================================================
           THEME MAPPINGS (One for each profile)
           ================================================================= */

        /* THEME: Main (Professional with Gradient) */
        .theme-main {
            --bg-color: #0c0a09;
            --text-color-main: #e5e7eb;
            --text-color-secondary: #d1d5db;
            --text-color-accent: #67e8f9; /* Cyan */
            --font-title: 'Inter', sans-serif;
            --card-bg: rgba(0, 0, 0, 0.3);
            --card-border: rgba(255, 255, 255, 0.1);
            --panel-bg: rgba(255, 255, 255, 0.05);
            --panel-border: transparent;
            --switcher-bg: rgba(23, 23, 23, 0.7);
            --switcher-border: rgba(255, 255, 255, 0.1);
            --skill-bg: #374151;
            --skill-color: #e5e7eb;
            --skill-border: transparent;
            --timeline-line: #374151;
        }

        /* THEME: Company (Niubiz - Light Theme) */
        .theme-niubiz {
            --bg-color: #f0f9ff; /* Very light blue background */
            --text-color-main: #0A2540; /* Dark blue Niubiz for text */
            --text-color-secondary: #425466;
            --text-color-accent: #00A3E0; /* Bright blue Niubiz */
            --font-title: 'Inter', sans-serif;
            --card-bg: rgba(255, 255, 255, 0.7);
            --card-border: rgba(10, 37, 64, 0.2);
            --panel-bg: rgba(255, 255, 255, 0.5);
            --panel-border: rgba(10, 37, 64, 0.1);
            --switcher-bg: rgba(255, 255, 255, 0.8);
            --switcher-border: rgba(10, 37, 64, 0.2);
            --skill-bg: rgba(0, 163, 224, 0.1);
            --skill-color: #0077A3;
            --skill-border: rgba(0, 163, 224, 0.2);
            --timeline-line: rgba(10, 37, 64, 0.2);
        }
        
        /* THEME: Community (Charcoal and Strong Magenta) */
        .theme-community {
            --bg-color: #1A202C; /* Intense charcoal gray */
            --text-color-main: #E2E8F0;
            --text-color-secondary: #A0AEC0;
            --text-color-accent: #D53F8C; /* Strong magenta */
            --font-title: 'Space Mono', monospace;
            --card-bg: rgba(26, 32, 44, 0.6);
            --card-border: rgba(213, 63, 140, 0.4);
            --panel-bg: rgba(26, 32, 44, 0.4);
            --panel-border: rgba(213, 63, 140, 0.2);
            --switcher-bg: rgba(26, 32, 44, 0.8);
            --switcher-border: rgba(213, 63, 140, 0.4);
            --skill-bg: rgba(213, 63, 140, 0.15);
            --skill-color: #f472b6;
            --skill-border: rgba(213, 63, 140, 0.3);
            --timeline-line: rgba(213, 63, 140, 0.3);
        }

        /* THEME: Builder (Apple Style) */
        .theme-builder {
            --bg-color: #f5f5f7; /* Apple light gray */
            --text-color-main: #1d1d1f; /* Apple black */
            --text-color-secondary: #515154;
            --text-color-accent: #007aff; /* Apple blue */
            --font-title: 'Inter', sans-serif;
            --card-bg: rgba(255, 255, 255, 0.7);
            --card-border: #d2d2d7;
            --panel-bg: #ffffff;
            --panel-border: #d2d2d7;
            --switcher-bg: rgba(255, 255, 255, 0.8);
            --switcher-border: #d2d2d7;
            --skill-bg: rgba(0, 122, 255, 0.1);
            --skill-color: #007aff;
            --skill-border: rgba(0, 122, 255, 0.2);
            --timeline-line: #d2d2d7;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color-main);
        }
        
        .background-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; overflow: hidden;
        }

        .gradient-mesh {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(at 20% 80%, hsla(211, 89%, 60%, 0.15) 0px, transparent 50%),
                        radial-gradient(at 80% 10%, hsla(289, 89%, 60%, 0.15) 0px, transparent 50%),
                        radial-gradient(at 50% 50%, hsla(180, 95%, 55%, 0.1) 0px, transparent 50%);
            animation: gradient-animation 15s ease infinite;
            transition: opacity 0.5s ease-in-out;
        }
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; }
        }

        /* --- Global Page Styles --- */
        .mainContainer {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: flex-start;
          min-height: 100vh;
          padding: 2rem 1rem;
          position: relative;
          z-index: 10;
        }

        /* --- Profile Switcher --- */
        .profileSwitcher {
          display: flex;
          justify-content: center;
          margin-bottom: 2rem;
          padding: 0.5rem;
          background-color: var(--switcher-bg);
          backdrop-filter: blur(10px);
          border-radius: 9999px;
          border: 1px solid var(--switcher-border);
          gap: 0.5rem;
          position: relative;
          z-index: 10;
          transition: all var(--transition-speed) ease;
        }

        .profileButton {
          background-color: transparent;
          color: var(--text-color-secondary);
          border: none;
          width: 50px;
          height: 50px;
          border-radius: 50%;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          position: relative;
        }
        .profileButton svg {
            width: 1.5rem;
            height: 1.5rem;
            transition: color 0.3s ease;
        }
        
        .profileButton:hover svg {
          color: var(--text-color-accent);
        }

        .profileButton.active svg {
          color: var(--text-color-accent);
        }

        .activeIndicator {
            position: absolute;
            inset: 0;
            border-radius: 9999px;
            background-color: var(--text-color-accent);
            opacity: 0.15;
            box-shadow: 0 0 15px var(--text-color-accent);
            z-index: -1;
            transition: all var(--transition-speed) ease;
        }

        .pingAnimation {
            position: absolute;
            display: inline-flex;
            height: 100%;
            width: 100%;
            border-radius: 9999px;
            background-color: var(--text-color-accent);
            opacity: 0.75;
            animation: ping 1s cubic-bezier(0, 0, 0.2, 1) infinite;
            z-index: -1;
            transition: all var(--transition-speed) ease;
        }

        @keyframes ping {
          75%, 100% {
            transform: scale(1.5);
            opacity: 0;
          }
        }

        .cardContainer {
            width: 100%;
            max-width: 1100px;
            position: relative;
            z-index: 10;
        }
        
        /* --- Card Styles --- */
        .cardWrapper {
          transition: all 700ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        .cardWrapperVisible {
          opacity: 1;
          transform: translateY(0);
        }

        .cardWrapperHidden {
          opacity: 0;
          transform: translateY(1.25rem);
        }

        .profileCard {
          display: grid;
          grid-template-columns: 1fr;
          gap: 1.5rem;
          backdrop-filter: blur(8px);
          background-color: var(--card-bg);
          border: 1px solid var(--card-border);
          border-radius: 1rem;
          padding: 1.5rem;
          transition: all var(--transition-speed) ease;
        }

        @media (min-width: 1024px) {
          .profileCard {
            grid-template-columns: 350px 1fr;
            gap: 2rem;
            padding: 2rem;
          }
        }

        .leftPanel {
          display: flex;
          flex-direction: column;
          align-items: center;
          text-align: center;
          padding: 2rem 1.5rem;
          background-color: var(--panel-bg);
          border-radius: 1rem;
          border: 1px solid var(--panel-border);
          grid-row: 1;
          transition: all var(--transition-speed) ease;
        }

        @media (min-width: 1024px) {
            .leftPanel {
                grid-column: 1;
                align-self: start;
                position: sticky;
                top: 2rem;
            }
        }
        
        /* --- Styles for image with "upload" overlay --- */
        .imageContainer {
            position: relative;
            width: 9rem;
            height: 9rem;
            margin-bottom: 1rem;
            cursor: pointer;
            border-radius: 9999px;
            border: 4px solid var(--text-color-accent);
            box-shadow: 0 0 20px -5px var(--text-color-accent);
            transition: all var(--transition-speed) ease;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .profileImage {
            width: 100%;
            height: 100%;
            border-radius: 9999px;
            object-fit: cover;
            transition: all var(--transition-speed) ease;
        }
        
        .uploadOverlay {
            position: absolute;
            inset: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: 0.8rem;
            text-align: center;
            padding: 0.5rem;
        }
        
        .imageContainer:hover .uploadOverlay {
            opacity: 1;
        }
        
        .uploadOverlay svg {
            width: 2rem;
            height: 2rem;
            margin-bottom: 0.25rem;
        }
        /* END NEW STYLES */

        .profileName {
          font-family: var(--font-title);
          font-size: 1.875rem;
          font-weight: 700;
          color: var(--text-color-main);
          transition: all var(--transition-speed) ease;
        }
        
        .theme-main .profileName, .theme-community .profileName, .theme-builder .profileName {
            color: #fff;
        }
        .theme-builder .profileName {
            color: var(--text-color-main);
        }

        .profileRole {
          font-size: 1.125rem;
          color: var(--text-color-accent);
          font-weight: 500;
          margin-top: 0.25rem;
          transition: all var(--transition-speed) ease;
        }

        .profileTagline {
          font-size: 0.875rem;
          color: var(--text-color-secondary);
          font-style: italic;
          margin-top: 1rem;
          max-width: 20rem;
        }

        .socialLinks {
          display: flex;
          flex-wrap: wrap;
          justify-content: center;
          gap: 1.25rem;
          margin-top: 1.5rem;
          color: var(--text-color-secondary);
        }

        .socialLink {
          color: inherit;
          transition: all 0.2s;
        }
        .socialLink:hover {
          color: var(--text-color-accent);
          transform: translateY(-3px) scale(1.1);
        }
        .socialLink svg {
          width: 1.5rem;
          height: 1.5rem;
        }

        .rightPanel {
          grid-row: 2;
        }
        @media (min-width: 1024px) {
            .rightPanel {
                grid-column: 2;
                grid-row: 1;
            }
        }

        .section {
            padding: 1.5rem;
            background-color: transparent;
            border-radius: 1rem;
            border: 1px solid var(--panel-border);
            margin-bottom: 1.5rem;
            transition: all var(--transition-speed) ease;
        }
        .section:last-child {
            margin-bottom: 0;
        }
        
        .summaryText {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-color-main);
        }

        .sectionTitle {
            font-family: var(--font-title);
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-color-main);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--panel-border);
            transition: all var(--transition-speed) ease;
        }
          .theme-main .sectionTitle, .theme-community .sectionTitle {
            color: #fff;
        }


        .skillsContainer {
          display: flex;
          flex-wrap: wrap;
          gap: 0.75rem;
        }

        .skillTag {
          font-family: 'Space Mono', monospace;
          background-color: var(--skill-bg);
          color: var(--skill-color);
          font-size: 0.8rem;
          font-weight: 400;
          padding: 0.375rem 1rem;
          border-radius: 4px;
          border: 1px solid var(--skill-border);
          transition: all var(--transition-speed) ease;
          cursor: default;
        }
        .skillTag:hover {
            box-shadow: 0 0 10px -2px var(--skill-color);
            transform: translateY(-2px);
        }

        .timeline {
          position: relative;
          border-left: 2px solid var(--timeline-line);
          margin-left: 1rem; 
          transition: all var(--transition-speed) ease;
        }

        .timelineItem {
          position: relative;
          padding-left: 3rem;
          padding-bottom: 2rem;
        }
        .timelineItem:last-child {
          padding-bottom: 0;
        }

        .timelineIcon {
          position: absolute;
          left: 0;
          top: 0;
          display: flex;
          align-items: center;
          justify-content: center;
          width: 2rem;
          height: 2rem;
          background-color: var(--bg-color);
          border: 1px solid var(--text-color-accent);
          box-shadow: 0 0 10px -2px var(--text-color-accent);
          border-radius: 9999px;
          transform: translateX(-50%);
          transition: all var(--transition-speed) ease;
        }
        .timelineIcon svg {
          width: 1rem;
          height: 1rem;
          color: var(--text-color-accent);
        }

        .timelineTitle {
          font-family: var(--font-title);
          font-size: 1.125rem;
          font-weight: 700;
          color: var(--text-color-main);
        }
          .theme-main .timelineTitle, .theme-community .timelineTitle {
            color: #fff;
        }

        .timelineSubtitle {
          font-size: 0.875rem;
          font-weight: 500;
          color: var(--text-color-accent);
          margin-top: 0.125rem;
        }
        .timelineDate {
          font-family: 'Space Mono', monospace;
          font-size: 0.75rem;
          color: var(--text-color-secondary);
          margin-top: 0.25rem;
        }
        .timelineDescription {
          margin-top: 0.5rem;
          font-size: 0.875rem;
          color: var(--text-color-main);
        }
    </style>
</head>
<body>

    <div class="background-container"></div>
    <div id="root"></div>
    
    <script type="text/babel">
        // --- SVG Icons ---
        const ICONS = {
            user: "M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z",
            briefcase: "M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zM10 4h4v2h-4V4zm10 15H4V8h16v11z",
            community: "M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z",
            linkedin: "M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z",
            github: "M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z",
            twitter: "M22.46,6C21.64,6.35,20.76,6.58,19.83,6.69C20.79,6.1,21.56,5.2,21.92,4.12C21.03,4.66,20.06,5.06,19.02,5.28C18.21,4.42,17,3.88,15.64,3.88C13.06,3.88,11,5.94,11,8.52C11,8.91,11.05,9.3,11.14,9.67C7.32,9.48,3.87,7.56,1.58,4.72C1.18,5.42,0.97,6.24,0.97,7.11C0.97,8.73,1.83,10.15,3.02,10.96C2.26,10.94,1.54,10.73,0.93,10.41L0.93,10.47C0.93,12.79,2.58,14.73,4.71,15.17C4.31,15.28,3.89,15.33,3.45,15.33C3.15,15.33,2.85,15.3,2.57,15.24C3.2,17.2,4.98,18.61,7.1,18.64C5.45,19.92,3.37,20.7,1.13,20.7C0.74,20.7,0.36,20.68,0,20.64C2.18,22.04,4.76,22.86,7.5,22.86C15.63,22.86,20.32,16.2,20.32,10.45C20.32,10.27,20.31,10.1,20.3,9.92C21.19,9.3,21.9,8.54,22.46,7.66L22.46,6Z",
            instagram: "M7.8,2H16.2C19.4,2,22,4.6,22,7.8V16.2A5.2,5.2,0,0,1,16.2,21.4H7.8C4.6,21.4,2,18.8,2,15.6V7.8A5.2,5.2,0,0,1,7.8,2M12,7.3A4.7,4.7,0,1,0,16.7,12,4.7,4.7,0,0,0,12,7.3M12,14.4A2.4,2.4,0,1,1,14.4,12,2.4,2.4,0,0,1,12,14.4M16.4,6.5A1.3,1.3,0,1,0,17.7,7.8,1.3,1.3,0,0,0,16.4,6.5Z",
            tiktok: "M12.53,2H17.47A1,1,0,0,1,18,3.24V11.3A6.29,6.29,0,0,1,11,17.47H8.53A6.29,6.29,0,0,1,2,11.3V3.24A1,1,0,0,1,3.24,2H8.16V14a3.14,3.14,0,0,0,6.28,0V2Z",
            youtube: "M12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2M9.7,15.7V8.3l6,3.7-6,3.7Z",
            rocket: "M13.2,2.3c0.1-0.2,0.1-0.4,0-0.6c-0.1-0.2-0.3-0.3-0.5-0.3H8.3C8,1.3,7.8,1.5,7.7,1.7c-0.1,0.2-0.1,0.4,0,0.6l2,5.1H3.8c-0.2,0-0.4,0.1-0.5,0.3S3.1,8.4,3.3,8.6l7,8c0.1,0.2,0.4,0.3,0.6,0.2c0.2-0.1,0.4-0.3,0.4-0.5V11h5.9c0.2,0,0.4-0.1,0.5-0.3s0.1-0.4-0.1-0.6L13.2,2.3z",
            code: "M9.4 7.4L12 4.8l2.6 2.6L16 6l-4-4-4 4 1.4 1.4zm5.2 9.2L12 19.2l-2.6-2.6L8 18l4 4 4-4-1.4-1.4zM19 3l-5 5 1.4 1.4L19 5.8V18.2l-3.6-3.6L14 16l5 5V3zM5 21l5-5-1.4-1.4L5 18.2V5.8l3.6 3.6L10 8 5 3v18z",
            upload: "M19 12v-2h-4v-5h-2v5h-4v2h4v5h2v-5h4zm1.9-5.9l-1.4-1.4c-.2-.2-.5-.3-.7-.3h-10c-.3 0-.5.1-.7.3L2.1 6.1c-.2.2-.3.5-.3.7v10.4c0 .3.1.5.3.7l1.4 1.4c.2.2.5.3.7.3h10c.3 0 .5-.1.7-.3l1.4-1.4c.2-.2.3-.5.3-.7V7.8c0-.3-.1-.5-.3-.7z"
        };

        // --- Profile Data ---
        const profiles = {
            main: {
                name: "Nefi Arroyo",
                currentRole: "Tech Owner & Community Leader",
                tagline: "Uniendo tecnología, estrategia y comunidad para construir soluciones del futuro.",
                defaultPhotoUrl: "./images/nefi.jpg",
                summary: "Más de una década de experiencia en el ecosistema tecnológico, evolucionando desde roles de desarrollo hasta el liderazgo técnico y de producto. Apasionado por la arquitectura cloud en AWS y por crear espacios donde la comunidad pueda crecer y aprender.",
                skills: ["Cloud Architecture", "DevOps Strategy", "AWS", "Product Ownership", "Community Building", "Public Speaking", "Git", "Backend Development"],
                fullExperience: [
                    { title: "Tech Owner of AWS availability", subtitle: "Niubiz", date: "Abr 2023 - Presente" },
                    { title: "Ingeniero Residente Cloud", subtitle: "Soluciones Orión", date: "Abr 2020 - Mar 2023 (3 años)" },
                    { title: "Chief Technology Officer", subtitle: "NUXTU", date: "Sep 2019 - Abr 2020 (8 meses)" },
                    { title: "Chief Developer Back-End LATAM", subtitle: "indagia", date: "May 2019 - Sep 2019 (5 meses)" },
                    { title: "Analista DevOps", subtitle: "PEDREGAL S.A.", date: "Ago 2018 - May 2019 (10 meses)" },
                    { title: "Analista de TI", subtitle: "PEDREGAL S.A.", date: "Oct 2016 - Ago 2018 (1 año 11 meses)" },
                    { title: "Analista y Programador", subtitle: "ICPNA REGIÓN CENTRO", date: "May 2015 - Oct 2016 (1 año 6 meses)" },
                    { title: "Analista y Programador", subtitle: "WII MAX INGENIEROS SAC", date: "Oct 2014 - May 2015 (8 meses)" },
                    { title: "CEO & Programador", subtitle: "Jumper Solutions", date: "Ene 2010 - Ene 2015 (5 años 1 mes)" },
                    { title: "Desarrollador de Aplicaciones Web", subtitle: "EMPRESA EDUCATIVA ZAVER S.A.C.", date: "May 2014 - Nov 2014 (7 meses)" },
                    { title: "Programador", subtitle: "Empresa de transporte XX", date: "Ago 2011 - Dic 2011 (5 meses)" },
                    { title: "Desarrollador Web", subtitle: "Municipalidad Provincial de Huancayo", date: "May 2011 - Oct 2011 (6 meses)" },
                ]
            },
            niubiz: {
                name: "Nefi Arroyo",
                currentRole: "Tech Owner of AWS availability",
                tagline: "Garantizando la continuidad del negocio a través de una infraestructura cloud robusta y resiliente.",
                defaultPhotoUrl: "./images/niubiz.png",
                roleFocus: [
                     { title: "Visión Estratégica", description: "Definir y ejecutar el roadmap técnico para la disponibilidad de los servicios en AWS, alineado con los objetivos de negocio." },
                     { title: "Liderazgo Técnico", description: "Guiar al equipo en la adopción de las mejores prácticas de arquitectura Well-Architected, enfocándose en la fiabilidad y la eficiencia de costos." },
                     { title: "Gestión de Incidentes", description: "Liderar la respuesta a incidentes críticos para minimizar el impacto y mejorar los sistemas para prevenir futuras fallas." },
                ],
                skills: ["High Availability Architecture", "Disaster Recovery", "FinOps", "AWS Well-Architected", "Site Reliability Engineering (SRE)", "Infrastructure as Code (IaC)"],
            },
            community: {
                name: "Nefi Arroyo",
                currentRole: "Speaker & Community Organizer",
                tagline: "Compartir conocimiento es la mejor forma de hacer crecer el ecosistema.",
                defaultPhotoUrl: "./images/better-community.png",
                ponencias: [
                    { title: "Arquitecturas Serverless para el Mundo Real", subtitle: "AWS Community Day Perú 2024", description: "Una charla sobre patrones de diseño y lecciones aprendidas implementando soluciones serverless a gran escala." },
                    { title: "De Monolito a Microservicios: Un Viaje en la Nube", subtitle: "Cloud Conf Latam 2023", description: "Presenté un caso de estudio sobre la migración exitosa de una aplicación monolítica a una arquitectura de microservicios en AWS." },
                ],
                eventosOrganizados: [
                    { title: "Organizador Principal, Community Fest 2025", subtitle: "Próximo Gran Evento", description: "Liderando la planificación del evento que unirá a las comunidades de tecnología más importantes del Perú." },
                    { title: "Organizador Principal, AWS Community Day Perú 2024", subtitle: "Lima, Perú", description: "Por segundo año consecutivo, al frente del evento más grande para la comunidad de AWS en el país." },
                    { title: "Organizador Principal, AWS Community Day Perú 2023", subtitle: "ft. Jeff Barr", description: "Líder del equipo organizador del histórico primer AWS Community Day en Perú, con la presencia del Chief Evangelist de AWS." },
                ],
                iniciativas: [
                     { title: "Coordinador, FLISoL Huancayo", date: "2018", description: "Organicé el Festival Latinoamericano de Instalación de Software Libre para promover el uso de tecnologías open source en mi región." },
                ]
            },
            builder: {
                name: "Nefi Arroyo",
                currentRole: "Developer & Cloud Architect",
                tagline: "De la idea al código, construyendo soluciones eficientes en la nube.",
                defaultPhotoUrl: "https://placehold.co/150x150/f5f5f7/1d1d1f?text=</>&font=inter",
                philosophy: "Creo en la construcción de software que no solo resuelve problemas, sino que es mantenible, escalable y elegante. Mi enfoque se basa en entender los fundamentos, como las redes, para tomar decisiones de arquitectura informadas, aplicando principios de Clean Code y DevOps en cada etapa del ciclo de vida del desarrollo.",
                techStack: ["Python", "Node.js", "C#", "SQL Server", "Terraform", "Docker", "Kubernetes", "Serverless Framework", "AWS CDK", "Git"],
                featuredProjects: [
                    { title: "Plataforma de Orquestación de Contenedores", subtitle: "Proyecto Personal", description: "Desarrollo de un sistema para automatizar el despliegue y la gestión de microservicios usando Kubernetes y Terraform, enfocado en la auto-escalabilidad y la resiliencia." },
                    { title: "ERP para Sector Educativo", subtitle: "WII MAX INGENIEROS SAC", description: "Lideré el desarrollo de un Sistema de Planificación de Recursos Empresariales (ERP) completo, utilizando C#, SQL Server y AngularJS para crear una solución integral para la gestión académica y administrativa." },
                ]
            }
        };
        
        const defaultSocialLinks = {
            linkedin: "https://www.linkedin.com/in/nefiarroyo", 
            github: "https://github.com/nefiarroyo",
            twitter: "#",
            instagram: "#",
            youtube: "#",
            tiktok: "#"
        };

        const Icon = ({ path }) => (
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path d={path} />
            </svg>
        );

        const ProfileCard = ({ profileData, isVisible, photoUrl, onPhotoChange }) => {
            
            const renderTimelineItem = (item, index, iconPath) => (
                <div className="timelineItem" key={`${item.title}-${index}`}>
                    <div className="timelineIcon"><Icon path={iconPath} /></div>
                    <h3 className="timelineTitle">{item.title}</h3>
                    {item.subtitle && <p className="timelineSubtitle">{item.subtitle}</p>}
                    {item.date && <p className="timelineDate">{item.date}</p>}
                    <p className="timelineDescription">{item.description}</p>
                </div>
            );

            const renderSections = () => {
                if (profileData.summary) {
                    return (<>
                        <section className="section">
                            <h2 className="sectionTitle">Sobre Mí</h2>
                            <p className="summaryText">{profileData.summary}</p>
                        </section>
                        <section className="section">
                            <h2 className="sectionTitle">Habilidades Clave</h2>
                            <div className="skillsContainer">
                                {profileData.skills.map(skill => <span key={skill} className="skillTag">{skill}</span>)}
                            </div>
                        </section>
                        <section className="section">
                            <h2 className="sectionTitle">Trayectoria Profesional Completa</h2>
                            <div className="timeline">
                                {profileData.fullExperience.map((item, index) => renderTimelineItem(item, index, ICONS.briefcase))}
                            </div>
                        </section>
                    </>);
                }
                if (profileData.roleFocus) {
                    return (<>
                        <section className="section">
                            <h2 className="sectionTitle">Enfoque del Rol en Niubiz</h2>
                            <div className="timeline">
                                {profileData.roleFocus.map((item, index) => renderTimelineItem(item, index, ICONS.rocket))}
                            </div>
                        </section>
                         <section className="section">
                            <h2 className="sectionTitle">Habilidades Aplicadas</h2>
                            <div className="skillsContainer">
                                {profileData.skills.map(skill => <span key={skill} className="skillTag">{skill}</span>)}
                            </div>
                        </section>
                    </>);
                }
                if (profileData.ponencias) {
                    return (<>
                        <section className="section">
                            <h2 className="sectionTitle">Ponencias Destacadas</h2>
                             <div className="timeline">
                                {profileData.ponencias.map((item, index) => renderTimelineItem(item, index, ICONS.community))}
                            </div>
                        </section>
                        <section className="section">
                            <h2 className="sectionTitle">Eventos Organizados</h2>
                             <div className="timeline">
                                {profileData.eventosOrganizados.map((item, index) => renderTimelineItem(item, index, ICONS.briefcase))}
                            </div>
                        </section>
                        <section className="section">
                            <h2 className="sectionTitle">Otras Iniciativas Comunitarias</h2>
                             <div className="timeline">
                                {profileData.iniciativas.map((item, index) => renderTimelineItem(item, index, ICONS.rocket))}
                            </div>
                        </section>
                    </>);
                }
                if (profileData.philosophy) {
                    return (<>
                        <section className="section">
                            <h2 className="sectionTitle">Filosofía de Arquitectura</h2>
                            <p className="summaryText">{profileData.philosophy}</p>
                        </section>
                        <section className="section">
                            <h2 className="sectionTitle">Stack Tecnológico</h2>
                            <div className="skillsContainer">
                                {profileData.techStack.map(skill => <span key={skill} className="skillTag">{skill}</span>)}
                            </div>
                        </section>
                        <section className="section">
                            <h2 className="sectionTitle">Proyectos Destacados</h2>
                            <div className="timeline">
                                {profileData.featuredProjects.map((item, index) => renderTimelineItem(item, index, ICONS.rocket))}
                            </div>
                        </section>
                    </>);
                }
                return null;
            };
            
            return (
                <div className={`cardWrapper ${isVisible ? 'cardWrapperVisible' : 'cardWrapperHidden'}`}>
                    <div className="profileCard">
                        <aside className="leftPanel">
                            {/* START: Image section with upload functionality */}
                            {/* I have kept this section exactly as you requested. The 'onClick' and 'onPhotoChange' logic
                                is not removed, which means you can still click the image area.
                                However, the image URL will now always be the default one for the current profile.
                            */}
                            <div className="imageContainer">
                                <img src={profileData.defaultPhotoUrl} alt={`Foto de ${profileData.name}`} className="profileImage" />
                            </div>
                            {/* END: Image section with upload functionality */}
                            <h1 className="profileName">{profileData.name}</h1>
                            <p className="profileRole">{profileData.currentRole}</p>
                            <p className="profileTagline">"{profileData.tagline}"</p>
                            <div className="socialLinks">
                                {/* Now using the common social links object for consistency */}
                                {Object.entries(defaultSocialLinks).map(([key, link]) => (
                                    link && ICONS[key] &&
                                    <a key={key} href={link} target="_blank" rel="noopener noreferrer" className="socialLink">
                                        <Icon path={ICONS[key]} />
                                    </a>
                                ))}
                            </div>
                        </aside>
                        <div className="rightPanel">
                            {renderSections()}
                        </div>
                    </div>
                </div>
            );
        };

        // --- Main Page Component ---
        function HomePage() {
            const [activeProfileKey, setActiveProfileKey] = React.useState('main');
            const [cardVisible, setCardVisible] = React.useState(true);
            const [userPhoto, setUserPhoto] = React.useState(null);
            
            React.useEffect(() => {
                const hash = window.location.hash.replace('#', '');
                if (profiles[hash]) {
                    setActiveProfileKey(hash);
                }
                const initialTheme = profiles[hash] ? hash : 'main';
                let themeClass = 'theme-main';
                 switch (initialTheme) {
                    case 'niubiz':    themeClass = 'theme-niubiz'; break;
                    case 'community': themeClass = 'theme-community'; break;
                    case 'builder':   themeClass = 'theme-builder'; break;
                    default:          themeClass = 'theme-main';
                }
                document.body.className = themeClass;

                if (initialTheme === 'main') {
                    const bgContainer = document.querySelector('.background-container') || document.createElement('div');
                    if (!document.querySelector('.background-container')) {
                        bgContainer.className = 'background-container';
                        document.body.insertBefore(bgContainer, document.getElementById('root'));
                    }
                    const gradient = document.createElement('div');
                    gradient.className = 'gradient-mesh';
                    bgContainer.innerHTML = '';
                    bgContainer.appendChild(gradient);
                }
            }, []);

            const handleProfileChange = (key) => {
                if (key !== activeProfileKey) {
                    setCardVisible(false);

                    let themeClass = '';
                    switch (key) {
                        case 'niubiz':    themeClass = 'theme-niubiz'; break;
                        case 'community': themeClass = 'theme-community'; break;
                        case 'builder':   themeClass = 'theme-builder'; break;
                        default:          themeClass = 'theme-main';
                    }
                    document.body.className = themeClass;

                    const bgContainer = document.querySelector('.background-container') || document.createElement('div');
                    if (!document.querySelector('.background-container')) {
                        bgContainer.className = 'background-container';
                        document.body.insertBefore(bgContainer, document.getElementById('root'));
                    }
                    
                    if (key === 'main') {
                         const gradient = document.createElement('div');
                         gradient.className = 'gradient-mesh';
                         bgContainer.innerHTML = '';
                         bgContainer.appendChild(gradient);
                    } else {
                         bgContainer.innerHTML = '';
                    }

                    setTimeout(() => {
                        setActiveProfileKey(key);
                        window.location.hash = key;
                        setCardVisible(true);
                    }, 300); 
                }
            };
            
            const handlePhotoUpload = () => {
                const fileInput = document.createElement('input');
                fileInput.type = 'file';
                fileInput.accept = 'image/*';
                fileInput.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (event) => {
                            setUserPhoto(event.target.result);
                        };
                        reader.readAsDataURL(file);
                    }
                };
                fileInput.click();
            };

            const profileButtons = [
                { key: 'main', label: 'Principal', icon: ICONS.user },
                { key: 'niubiz', label: 'Empresa', icon: ICONS.briefcase },
                { key: 'community', label: 'Comunidad', icon: ICONS.community },
                { key: 'builder', label: 'Builder', icon: ICONS.code },
            ];

            return (
                <main className="mainContainer">
                    <div className="profileSwitcher">
                        {profileButtons.map(({ key, label, icon }) => {
                            const isActive = activeProfileKey === key;
                            return (
                               <button 
                                    key={key}
                                    onClick={() => handleProfileChange(key)} 
                                    className={`profileButton ${isActive ? 'active' : ''}`}
                                    aria-label={`Perfil ${label}`}
                                >
                                    {isActive && <span className="pingAnimation"></span>}
                                    {isActive && <span className="activeIndicator"></span>}
                                    <Icon path={icon} />
                                </button>
                            )
                        })}
                    </div>
                    <div className="cardContainer">
                         <ProfileCard 
                              profileData={profiles[activeProfileKey]} 
                              isVisible={cardVisible}
                              photoUrl={userPhoto}
                              onPhotoChange={handlePhotoUpload}
                         />
                    </div>
                </main>
            );
        };

        ReactDOM.render(<HomePage />, document.getElementById('root'));
    </script>
</body>
</html>
